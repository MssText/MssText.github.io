(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{470:function(e,t,r){"use strict";r.r(t);var a=r(12),v=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h3",{attrs:{id:"小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[e._v("#")]),e._v(" 小结")]),e._v(" "),r("p",[e._v("这样我们就手动实现了Vue3响应式模块的主线逻辑。当然，Vue3源码中的实现，远比这要复杂很多。同时Vue3还提供了很多响应式相关的API，比如："),r("code",[e._v("readonly")]),e._v("、"),r("code",[e._v("toRef")]),e._v("等等，但是其实主要实现逻辑也是在我们之前实现的逻辑之上再进行扩展完善，所以当你看完之前所有的文章，你再回过头去看Vue3响应式相关的源码，应该会轻松很多。最后总结一下，之前讲到的内容，我们实现了Vue3中的响应式逻辑，主要是：")]),e._v(" "),r("ul",[r("li",[e._v("track 函数 -----\x3e 负责收集依赖")]),e._v(" "),r("li",[e._v("effect 函数  ------\x3e 用户提供依赖函数的入口")]),e._v(" "),r("li",[e._v("trigger 函数 ------\x3e 触发依赖")]),e._v(" "),r("li",[e._v("reactive 函数 ------\x3e 引用类型的响应式API")]),e._v(" "),r("li",[e._v("ref 函数 ------\x3e 基本类型的响应式API")]),e._v(" "),r("li",[e._v("activeEffect -------\x3e 全局变量 将 track 和 effect 产生联系")]),e._v(" "),r("li",[e._v("effectStack --------\x3e 类似函数调用栈的方式 解决嵌套的effect问题")])]),e._v(" "),r("h3",{attrs:{id:"彩蛋-关于reactivity中让人惊艳的部分"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#彩蛋-关于reactivity中让人惊艳的部分"}},[e._v("#")]),e._v(" 彩蛋(关于reactivity中让人惊艳的部分)")]),e._v(" "),r("ul",[r("li",[e._v("使用位运算提高effect的收集和执行效率")]),e._v(" "),r("li",[e._v("函数柯里化，比如：定义proxy的get陷阱的时候 有 shallowGet 和 readonlyGet 中")]),e._v(" "),r("li",[e._v("使用 createGetter 根据参数的不同执行不同的行为")]),e._v(" "),r("li",[e._v("对集合类型进行响应式包装时候的处理。比如对数组进行处理，执行arr.push(1)的时候，其实会引起数组")]),e._v(" "),r("li",[e._v("元素 和 长度 的变化，这会导致依赖的重复执行等等")])]),e._v(" "),r("h3",{attrs:{id:"参考链接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[e._v("#")]),e._v(" 参考链接")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://juejin.cn/post/6938702983014121485#heading-7",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue3响应式原理"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://v3.cn.vuejs.org/api/basic-reactivity.html#reactive",target:"_blank",rel:"noopener noreferrer"}},[e._v("vu3官方文档"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-next/tree/master/packages/reactivity",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-next"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.cn/post/6995732683435278344",target:"_blank",rel:"noopener noreferrer"}},[e._v("细说 Vue.js 3.2 关于响应式部分的优化"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/158743788",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue3响应式原理"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=v.exports}}]);