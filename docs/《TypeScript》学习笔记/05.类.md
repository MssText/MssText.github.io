---
title: ç±»
date: 2021-05-17 07:43:28
permalink: /pages/b623b4/
categories:
  - ã€ŠTypeScriptã€‹å­¦ä¹ ç¬”è®°
tags:
  - 
---
### å‰è¨€

ä¼ ç»Ÿçš„JavaScriptä¸­ï¼Œä½¿ç”¨çš„æ˜¯åŸºäºåŸå‹çš„ç»§æ‰¿æ–¹å¼æ¥ä½¿ç”¨ç±»ï¼Œè™½ç„¶åœ¨ES6ä¸­æ˜ç¡®æå‡ºäº†ç±»å…³é”®å­—ï¼Œä½†æ˜¯æ”¯æŒåº¦è¿˜ä¸é«˜ã€‚TypeScriptå…è®¸ä½ ç›´æ¥ä½¿ç”¨ES6çš„ç±»è¯­æ³•ï¼Œå¹¶ä¸”å®ç°äº†å„å¤§æµè§ˆå™¨å’Œå¹³å°çš„æ”¯æŒã€‚

### ä¸€ã€åŸºæœ¬ä½¿ç”¨

```typescript
class Person {
  name: string
  constructor(name: string) {
    this.name = name;
  } 
}
```

ç„¶åè¿™æ ·ä½¿ç”¨è¿™ä¸ªç±»ï¼š

```typescript
let mss = new Person("mss");
console.log(mss.name);
// mms
```

### äºŒã€ç±»çš„ç»§æ‰¿

å®šä¹‰åŸºç¡€ç±»

```typescript
class Animal {
  name: string
  constructor(name: string) {
    this.name = name;
  }

  move(speed: number = 0) {
    console.log(`${this.name}ç§»åŠ¨äº†${speed}`);
  }
}
```

å®šä¹‰ç»§æ‰¿ç±»ï¼Œå¹¶ä¸”ä½¿ç”¨ç»§æ‰¿ç±»é‡å†™åŸºç¡€ç±»çš„æ–¹æ³•

```typescript
class Cat extends Animal {
  constructor(name: string) {
    super(name)
  }
  move(speed: number = 10) {
    super.move(speed);
  }
}
```

ç„¶åä½ è¿™æ ·ä½¿ç”¨ç»§æ‰¿ç±»ï¼š

```typescript
let cat = new Cat("ğŸˆ");
cat.move(20);
// ğŸˆç§»åŠ¨äº†20
```

ä¸Šé¢çš„ä¾‹å­å°±æ˜¯å¾ˆç®€å•çš„ä½¿ç”¨`extends`å®ç°ç±»ç»§æ‰¿çš„ä¾‹å­ï¼Œæˆ‘ä»¬åœ¨ç»§æ‰¿ç±»çš„å†…éƒ¨ä½¿ç”¨`super`å…³é”®å­—æ”¹å†™äº†åŸºç¡€ç±»çš„`move`æ–¹æ³•ã€‚

### ä¸‰ã€Public, private, and protected

åœ¨å…¶ä»–çš„å¼ºç±»å‹è¯­è¨€ä¸­ï¼Œæœ‰`public`ç­‰å…³é”®å­—æ ‡è®°å˜é‡çš„ä½¿ç”¨èŒƒå›´ï¼ŒTypeScriptä¸­ä¹Ÿæä¾›äº†è¿™äº›å…³é”®å­—ã€‚

1.public

`public`å…³é”®å­—æ˜¯æ ‡è®°å˜é‡æˆ–è€…æ–¹æ³•æ˜¯å…¬ç”¨çš„ï¼Œä¸ç®¡åœ¨çˆ¶ç±»å’Œå­ç±»éƒ½èƒ½ä½¿ç”¨ã€‚åœ¨TypeScriptä¸­é»˜è®¤å°±æ˜¯`public`ï¼Œä¹Ÿå°±æ˜¯å½“ä½ æ²¡æœ‰ä½¿ç”¨ä»»ä½•èŒƒå›´å…³é”®å­—ä¿®é¥°ï¼Œé»˜è®¤å°±æ˜¯å…¬ç”¨çš„å˜é‡å’Œæ–¹æ³•ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ˜¾ç¤ºçš„ä½¿ç”¨`puclic`å£°æ˜ã€‚

```typescript
class aAnimal {
  public name: string
  public constructor(name:string) {
    this.name = name;
  }
  public move(speed: number) {
    console.log(speed); 
  }
}
```

ç„¶åå¯ä»¥å®šä¹‰ç»§æ‰¿ç±»ï¼š

```typescript
class Dog extends aAnimal {
  constructor(name: string) {
    super(name);
  }
}
```

æˆ‘ä»¬å¯ä»¥åœ¨åŸºç¡€ç±»å’Œç»§æ‰¿ç±»ä¸­éƒ½å¯ä»¥è®¿é—®åˆ°`name`å±æ€§ï¼š

```typescript
// åŸºç¡€ç±»å¯ä»¥è®¿é—®
console.log(aAnimal.name);

// ç»§æ‰¿ç±»ä¹Ÿå¯ä»¥è®¿é—®
let dog = new Dog("mss");
console.log(dog.name);
// mss
```

2.private

`private`æ˜¯ç”¨æ¥æ ‡è®°ä¸€ä¸ªç±»ä¸­ç§æœ‰å˜é‡çš„å…³é”®å­—ï¼Œä¸€æ—¦ä½¿ç”¨`private`æ ‡è®°ï¼Œè¡¨ç¤ºç”³æ˜äº†è¯¥å˜é‡æ˜¯ç±»ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç±»ä¸­è¿›è¡Œè®¿é—®ã€‚

åŸºç¡€ç±»

```typescript
class sAnimal {
  private name: string;

  constructor(theName: string) {
    this.name = theName;
  }
}
```

ç»§æ‰¿ç±»ï¼š

```typescript
class Snake extends sAnimal {
  constructor(name: string) {
    super(name);
  }
}
```

ç„¶åè¯•ç€å»è®¿é—®ç»§æ‰¿ä¸­çš„`name`å±æ€§ï¼š

```typescript
class Snake extends sAnimal {
  constructor(name: string) {
    super(name);
    	// è¿™é‡Œè®¿é—®åŸºç¡€ç±»çš„nameå±æ€§    
     console .log(super.name);
  }
}
```

å‘ç°éƒ½ä¸èƒ½è®¿é—®ï¼Œä¹Ÿåº”è¯äº†ç¡®å®åªèƒ½åœ¨åŸºç¡€ç±»ç±»ä¸­è¿›è¡Œè®¿é—®ã€‚

3.`protected

`protected`å…³é”®å­—æ ‡è®°çš„å˜é‡åœ¨åŸºç¡€ç±»çš„å­ç±»å’Œè¡ç”Ÿç±»ä¸­éƒ½èƒ½è®¿é—®ã€‚æ¯”å¦‚æŠŠä¸Šé¢çš„ä¾‹å­ä¸­`provate`æ”¹ä¸º`protected`ï¼š

```typescript
class sAnimal {
  protected name: string;
  constructor(theName: string) {
    this.name = theName;
  }
}

class Snake extends sAnimal {
  constructor(name: string) {
    super(name);
    // è¿™é‡Œå¯ä»¥æ­£å¸¸è®¿é—®    
    console .log(super.name);  
  }
}
```

3.readonly

`readonly`å…³é”®å­—ç”¨æ¥ä¿®é¥°åªè¯»å±æ€§

```typescript
class OtherPerson {
  readonly name: string;
  constructor(name: string) {
    this.name = name;
  }
}

let me = new OtherPerson("mss");
// me.name = ''
```

å½“æˆ‘ä»¬è¯•å›¾è®¾ç½®`me`å®ä¾‹çš„`name`å±æ€§æ—¶ï¼ŒTypeScriptä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†`readonly`å…³é”®å­—æè¿°äº†åªè¯»

åŒæ—¶ï¼ŒTypeScriptä¹Ÿå…è®¸åœ¨ç”³æ˜çš„æ—¶å€™åŒæ—¶åˆå§‹åŒ–å‚æ•°ï¼š

```typescript
class OtherPerson {
  readonly age: number = 18  
  constructor(readonly name: string) {
    console.log(name);
  }
}

let me = new OtherPerson("mss");
// me.name = ''
```

è¿™æ ·åšä¹Ÿæ˜¯åˆç†çš„ï¼Œå…¶ä»–å¦‚`public`ç­‰ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥åœ¨å£°æ˜å˜é‡çš„åŒæ—¶åˆå§‹åŒ–ï¼Œç”¨æ³•å’Œè¿™ä¸ªä¾‹å­æ˜¯ä¸€è‡´

### å››ã€è®¿é—®å™¨å±æ€§

å’ŒJavaScriptä¸­ä¸€æ ·ï¼ŒTypeScripä¸­ä¹Ÿæä¾›äº†è®¿é—®å™¨å±æ€§ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦åœ¨å¯¹è±¡ä¸­è®¾ç½®äº†`get`å’Œ`set`æ–¹æ³•ï¼ŒTypeScriptä¼šé»˜è®¤ç”¨`readonly`ä¿®é¥°`set`å’Œ`get`æ–¹æ³•ã€‚

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è®¿é—®å™¨å±æ€§ï¼Œå®ç°å¯¹ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦ä¸²çš„æ ¡éªŒ,æˆ‘ä»¬é¦–å…ˆè®¾ç½®äº†è¾“å…¥çš„é•¿åº¦ä¸º10ä½

```typescript
const maxLength = 10;
```

ç„¶åæˆ‘ä»¬ä¸ºç±»å®šä¹‰`get`å’Œ`set`è®¿é—®å™¨æ–¹æ³•ï¼š

```typescript
lass ValidName {
  private name: string = "";

  get fullName () {
    return this.name;
  }

  set fullName (newName: string) {
    if (newName && newName.length > maxLength) {
      throw new Error("è¾“å…¥çš„å­—ç¬¦ä¸²ä¸åˆæ³•ï¼");
    }
    this.name = name;
  }
}
```

å½“æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç¬¦åˆé•¿åº¦çš„æ—¶å€™ï¼Œä¼šç»™æˆ‘ä»¬ä¸€ä¸ªå‹å¥½çš„æç¤ºã€‚åŒæ—¶ï¼Œæ³¨æ„ï¼Œè®¿é—®èµ·å±æ€§åªèƒ½åœ¨ç¼–è¯‘å™¨æ˜¯ES5+çš„ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ã€‚

### äº”ã€é™æ€ç±»

å‰é¢æˆ‘ä»¬æåˆ°å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦å¯¹ç±»ä¸­çš„å˜é‡è¿›è¡Œè®¿é—®èŒƒå›´çš„æ§åˆ¶ï¼Œé™æ€å±æ€§ä¿®é¥°ç¬¦çš„ä½œç”¨ä¹Ÿæ˜¯åœ¨äºæ­¤ï¼Œä½¿ç”¨`static`ä¿®é¥°ç¬¦ä¿®é¥°å˜é‡ï¼Œå¯ä»¥ä½¿å¾—è¯¥å˜é‡åªèƒ½è¢«è¯¥ç±»ç›´æ¥è®¿é—®

```typescript
class StaticObj {
  static age: number = 18;

  getAge() {
    return StaticObj.age;
  }
}
```

ç„¶åæˆ‘ä»¬è®¿é—®`age`å±æ€§çš„æ—¶å€™ï¼Œåªèƒ½é€šè¿‡`StaticObj`ç­¾åè¿›è¡Œè®¿é—®ï¼š

```typescript
console.log(StaticObj.age);
// 18
```

### å…­ã€æŠ½è±¡

æŠ½è±¡ç±»çš„è¡Œä¸ºå¯ä»¥æœ‰è¿™æ ·å‡ ä¸ªç‰¹ç‚¹ï¼š

> - æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼Œåªèƒ½ä½œä¸ºåŸºç¡€ç±»ä¾›å…¶ä»–ç±»ç»§æ‰¿ã€‚
> - ä½¿ç”¨`abstract`å…³é”®å­—å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•åªåŒ…æ‹¬å®šä¹‰ï¼Œä¸åŒ…æ‹¬å®ç°ã€‚
> - åŸºäºæŠ½è±¡ç±»çš„è¡ç”Ÿç±»å¿…é¡»å®ç°æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•ã€‚

æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼Œæ³¨æ„æŠ½è±¡æ–¹æ³•å¿…é¡»æ˜¯åœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰ï¼š

```typescript
abstract class AbstractObj {
  abstract getName(): void
}
```

ç„¶åå®šä¸€ä¸ª`AbstractObj`æŠ½è±¡ç±»çš„ç»§æ‰¿ç±»`ImpleAbstractObj`

```typescript
class ImpleAbstractObj extends AbstractObj{
  public name: string = 'mss'
  public age: number = 18

  // è¿™é‡Œå®ç°äº†æŠ½è±¡ç±»çš„getNameæ–¹æ³•  
  getName(): void {
    console.log(this.name);
  }
  getAge() {
    return this.age;
  }
}
```

### ä¸ƒã€ç±»å¯ä»¥å½“ä½œæ¥å£ä½¿ç”¨

å‰é¢è¯´åˆ°äº†`æ¥å£`æ˜¯TypeScriptå®šä¹‰æ•°æ®ç»“åˆç±»å‹çš„ä¸€ä¸ªè™šæ‹Ÿç»“æ„ï¼Œå¯¹äºç±»æ¥è¯´ï¼Œä¹Ÿå¯ä»¥å½“ä½œ`æ¥å£`çš„åŠŸèƒ½ã€‚

ä½ å¯ä»¥åƒä½¿ç”¨`æ¥å£`ä¸€æ ·ä½¿ç”¨ç±»

```typescript
class baseObj {
  name: string
}
```

åŒç­‰åŠŸèƒ½çš„æ¥å£æ˜¯è¿™æ ·å®šä¹‰ï¼š

```typescript
interface baseObj {
  name: string
}
```

ç„¶åè¿™æ ·ä½¿ç”¨ï¼š

```typescript
let irObj: baseObj = {
  name: 'mss'
}
```

### å…«ã€æ€»ç»“

ES6ä¹‹å‰åŸºæœ¬JavaScriptæ²¡æœ‰æ­£å¼ç±»çš„æ¦‚å¿µï¼ŒES6ä¹‹åæ–°å¢äº†`class`çš„å…³é”®å­—ï¼Œè™½ç„¶åªæ˜¯åŸºä¸ES5åŸå‹çš„è¯­æ³•ç³–ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯æ–¹ä¾¿äº†å‰ç«¯å¼€å‘è€…ã€‚åŒæ—¶,TypeScriptä¸­å¼•å…¥äº†å¼ºç±»å‹è¯­è¨€ä¸­ç±»çš„ç‰¹æ€§ï¼Œä½¿å¾—JSå‘å¼€å‘å¤§å‹çš„é¡¹ç›®åˆè·¨è¿›äº†ä¸€æ­¥ã€‚
